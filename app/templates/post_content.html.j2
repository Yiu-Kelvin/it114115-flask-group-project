{% extends "base.html.j2" %}
{# {% import 'bootstrap/wtf.html' as wtf %} #}

{% block app_content %}

    <div class="d-flex ">
        <div class="d-flex flex-column text-center">
            <form action="/post_vote/{{ post.id }}" method="post">
                {{ voteform.csrf_token }}
                <div><button class="bi bi-caret-up btn btn-primary mb-3 p-3 rounded-circle" name="upvote" value="upvote"></button></div>
                <p>{{ votes }}</p>
                <div><button class="bi bi-caret-up btn btn-primary  p-3 rounded-circle icon-flipped" name="downvote" value="downvote"></button></div>
            </form>
        </div>
        <div class="d-flex flex-column  ">
            <h1>{{post.title}}</h1>
            <p>{{post.body}}</p>
        </div>
    </div>

    <hr>
    
    <h2>Answers: </h2>
    {% if post.answers %}
        {% for answer in post.answers %}
                {% include "_answer.html.j2" %}
        {% endfor %}
        <hr>
        <h2>Answer this question</h2>
    {% else %}
        <p>no answers yet</p>
        <hr>
        <h2>Be the first to answer</h2>
    {% endif %}
    {% if form %}

        <form action="/post/{{post.id}}" method="post">
            {{ form.csrf_token }}
            <div class="form-group">
                <label>Answer</label>

                {{ form.body(class_='form-control')  }}
            </div>
            <div class="form-group ">
                {{ form.submit(class_='btn btn-primary mt-2') }}
            </div>
        </form>
        <br/>   
    {% endif %}
{% endblock %}
